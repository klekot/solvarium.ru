<%= javascript_include_tag Ckeditor.cdn_url %>

<h1>Редактировать запись</h1>

<%= form_for(@article , :url => {:action => 'update', :id => @article.id}) do |f| %>

  <% if not @article.nil? and @article.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@article.errors.count, "error") %> prohibited
      this article from being saved:</h2>
    <ul>
    <% @article.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
  <% end %>

  <p>
    <%= f.label 'Название:' %><br>
    <%= f.text_field :subject, value: @article.subject %>
  </p>

  <p>
    <%= f.label 'Содержание:' %><br>
    <%= f.cktext_area :content,
      value: @article.content,
      cols: 40,
      ckeditor: {language: 'ru', uiColor: '#30CBFF', toolbar: 'mini'} %>
  </p>

  <p>
    <%= f.label 'Теги (через запятую):' %><br>
    <%= f.text_area :tags, value: @tags_string %>
  </p>

  <p>
    <%= f.label 'Транслировать в общую ленту?' %><br>
    <%= f.check_box :common, value: @article.common %>
  </p>

  <p>
    <%= f.submit 'Сохранить' %>
  </p>
<% end %>

<%= link_to 'К ленте', articles_path %>
